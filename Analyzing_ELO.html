<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>5c4a32cde0ce4b37be805ed20580600c</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div id="620e18b4" class="cell markdown">
<h1 id="analyzing-mlb-predictions">Analyzing MLB Predictions</h1>
</div>
<div id="b343b25a" class="cell markdown">
<h3 id="introduction">Introduction</h3>
</div>
<div id="9e94af49" class="cell markdown">
<p>Before the beginning of the MLB season, predictions are made for each
team about their performance in the upcoming season. Specifically,
predictions are made about the number of wins that the team will have.
These predictions come from complex models that take into account the
team's player's individual statistics from previous seasons and the
projections from aging curves. Some of the models that are most paid
attention to are ELO (from fivethirtyeight), PECOTA (from Baseball
Prospectus), and from ESPN (being the model that has the most visibility
to the public). The purpose of this project is to analyze these
projections, to see how they compare, to see what they are individually
effective at, and to use these current models to create a new model.</p>
</div>
<div id="3b7f4383" class="cell markdown">
<h3 id="the-models">The Models</h3>
</div>
<div id="35c147de" class="cell markdown">
<p>The data for this project is from the past five years of full seasons
(excluding the COVID shortened 2020 season). This data can be seen in
the dataset below, with each team, how many games they won, and how many
games they were predicted to win from each model.</p>
</div>
<div id="036ff5d1" class="cell code" data-execution_count="389">
<div class="sourceCode" id="cb1"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">CSV</span>, <span class="bu">DataFrames</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>el <span class="op">=</span> CSV.<span class="fu">read</span>(<span class="st">&quot;/Users/jackmerchen/Data/Projected _Wins.csv&quot;</span>, DataFrame)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>this_year <span class="op">=</span> <span class="fu">filter</span>(row <span class="op">-&gt;</span> row.Actual <span class="op">&gt;</span> <span class="fl">2022</span>, el)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>elo <span class="op">=</span> <span class="fu">filter</span>(row <span class="op">-&gt;</span> row.Actual <span class="op">&lt;</span> <span class="fl">2023</span>, el)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">show</span>(elo)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>150×5 DataFrame
 Row │ Team          Actual  ELO    PECOTA  ESPN  
     │ String15      Int64   Int64  Int64   Int64 
─────┼────────────────────────────────────────────
   1 │ Yankees           99     92      99     94
   2 │ Red Sox           78     86      86     87
   3 │ Orioles           83     62      61     58
   4 │ Tigers            66     73      67     74
   5 │ Guardians         92     78      76     77
   6 │ White Sox         81     91      95     93
   7 │ Royals            65     73      69     71
   8 │ Twins             78     83      86     81
   9 │ Rangers           68     72      70     69
  10 │ Astros           106     92      90     95
  11 │ Mariners          90     80      83     82
  ⋮  │      ⋮          ⋮       ⋮      ⋮       ⋮
 141 │ Cardinals         83     81      78     85
 142 │ Reds              68     72      74     73
 143 │ Pirates           75     81      81     83
 144 │ Mets              70     87      89     85
 145 │ Phillies          66     70      73     67
 146 │ Braves            72     74      76     68
 147 │ Blue Jays         76     84      81     87
 148 │ Marlins           77     80      77     75
 149 │ Nationals         97     92      88     89
 150 │ Rays              80     81      84     82
                                  129 rows omitted</code></pre>
</div>
</div>
<div id="2496d4e9" class="cell markdown">
<p>The metric for measuring the model was chosen to be RMSE. RMSE was
chosen as it is in the same units as both the prediction and what the
team actually won. Looking at each models RMSE, we see that each of the
models are fairly similar with each of them having an RMSE between 10
and 11.</p>
</div>
<div id="7f74e8da" class="cell markdown">
<h4 id="elo">ELO</h4>
</div>
<div id="447d626f" class="cell code" data-execution_count="391">
<div class="sourceCode" id="cb3"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">MLJBase</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">rmse</span>(y_pred<span class="op">::</span><span class="dt">AbstractArray</span>, y_true<span class="op">::</span><span class="dt">AbstractArray</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sqrt</span>(<span class="fu">sum</span>((y_pred <span class="op">.-</span> y_true)<span class="op">.^</span><span class="fl">2</span>) <span class="op">/</span> <span class="fu">length</span>(y_pred))</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>elo_rmse <span class="op">=</span> <span class="fu">rmse</span>(elo.ELO, elo.Actual)</span></code></pre></div>
<div class="output execute_result" data-execution_count="391">
<pre><code>10.033610184441756</code></pre>
</div>
</div>
<div id="433b221f" class="cell markdown">
<h4 id="pecota">PECOTA</h4>
</div>
<div id="0bbc0b4e" class="cell code" data-execution_count="369">
<div class="sourceCode" id="cb5"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>pec_rmse <span class="op">=</span> <span class="fu">rmse</span>(elo.PECOTA, elo.Actual)</span></code></pre></div>
<div class="output execute_result" data-execution_count="369">
<pre><code>10.297248823512684</code></pre>
</div>
</div>
<div id="f4618437" class="cell markdown">
<h4 id="espn">ESPN</h4>
</div>
<div id="4f2a7618" class="cell code" data-execution_count="370">
<div class="sourceCode" id="cb7"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>espn_rmse <span class="op">=</span> <span class="fu">rmse</span>(elo.ESPN, elo.Actual)</span></code></pre></div>
<div class="output execute_result" data-execution_count="370">
<pre><code>10.789501069712784</code></pre>
</div>
</div>
<div id="2ccb72de" class="cell markdown">
<h3 id="new-model">New Model</h3>
</div>
<div id="797f2925" class="cell markdown">
<p>As with training any model, the first step includes preparing the
data. This consists of splitting the data into a training set and a
testing set and making sure the data is in the correct format for the
model to train on. To train the new model, a split of 80-20 is being
used, with 80% of the data being used to train the model and 20% of the
data being used for testing. Twenty percent of the data represents 30
team projections, or a full MLB seaon (there are 30 teams in the
MLB).</p>
</div>
<div id="baff6376" class="cell code" data-execution_count="482">
<div class="sourceCode" id="cb9"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">new</span> <span class="op">=</span> DataFrames.<span class="fu">select</span>(elo, <span class="fu">Not</span>(<span class="st">&quot;Team&quot;</span>))</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">splitdf</span>(df, pct)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@assert</span> <span class="fl">0</span> <span class="op">&lt;=</span> pct <span class="op">&lt;=</span> <span class="fl">1</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    ids <span class="op">=</span> <span class="fu">collect</span>(<span class="fu">axes</span>(df, <span class="fl">1</span>))</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">shuffle!</span>(ids)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    per <span class="op">=</span> ids <span class="op">.&lt;=</span> <span class="fu">nrow</span>(df) <span class="op">.*</span> pct</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    test <span class="op">=</span> <span class="fu">view</span>(df, per, <span class="op">:</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    train <span class="op">=</span> <span class="fu">view</span>(df, .!per, <span class="op">:</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> test, train</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>train, test <span class="op">=</span> <span class="fu">splitdf</span>(<span class="kw">new</span>, <span class="fl">.8</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="482">
<pre><code>(120×4 SubDataFrame
 Row │ Actual  ELO    PECOTA  ESPN  
     │ Int64   Int64  Int64   Int64 
─────┼──────────────────────────────
   1 │     99     92      99     94
   2 │     83     62      61     58
   3 │     66     73      67     74
   4 │     92     78      76     77
   5 │     65     73      69     71
   6 │     78     83      86     81
   7 │     68     72      70     69
   8 │    106     92      90     95
   9 │     60     69      71     68
  10 │     73     84      88     82
  11 │     81     84      78     85
  ⋮  │   ⋮       ⋮      ⋮       ⋮
 111 │     87     75      76     82
 112 │     86     74      78     74
 113 │     83     81      78     85
 114 │     68     72      74     73
 115 │     75     81      81     83
 116 │     70     87      89     85
 117 │     66     70      73     67
 118 │     72     74      76     68
 119 │     97     92      88     89
 120 │     80     81      84     82
                     99 rows omitted, 30×4 SubDataFrame
 Row │ Actual  ELO    PECOTA  ESPN  
     │ Int64   Int64  Int64   Int64 
─────┼──────────────────────────────
   1 │     78     86      86     87
   2 │     81     91      95     93
   3 │     90     80      83     82
   4 │    111     99      98    101
   5 │     86     91      93     94
   6 │     93     81      81     81
   7 │    101     84      89     87
   8 │     92     92      91     96
   9 │     86     87      85     86
  10 │     92     80      80     79
  11 │     60     70      67     73
  ⋮  │   ⋮       ⋮      ⋮       ⋮
  21 │     91     99      96     94
  22 │     62     70      72     68
  23 │    103     97      99     95
  24 │     97     76      76     76
  25 │     80     81      79     85
  26 │     82     93      88     89
  27 │     85     74      78     78
  28 │     92     98      93     98
  29 │     76     84      81     87
  30 │     77     80      77     75
                      9 rows omitted)</code></pre>
</div>
</div>
<div id="52da090c" class="cell code" data-execution_count="483">
<div class="sourceCode" id="cb11"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>train_lab <span class="op">=</span> train[<span class="op">:</span>, <span class="op">:</span>Actual]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>test_lab <span class="op">=</span> test[<span class="op">:</span>, <span class="op">:</span>Actual]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>train_dat <span class="op">=</span> DataFrames.<span class="fu">select</span>(train, <span class="fu">Not</span>(<span class="st">&quot;Actual&quot;</span>))</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>test_dat <span class="op">=</span> DataFrames.<span class="fu">select</span>(test, <span class="fu">Not</span>(<span class="st">&quot;Actual&quot;</span>))</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>train_df <span class="op">=</span> <span class="fu">Matrix</span>(<span class="fu">Float64</span>.(train_dat))</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>test_df <span class="op">=</span> <span class="fu">Matrix</span>(<span class="fu">Float64</span>.(test_dat))</span></code></pre></div>
<div class="output execute_result" data-execution_count="483">
<pre><code>30×3 Matrix{Float64}:
 86.0  86.0   87.0
 91.0  95.0   93.0
 80.0  83.0   82.0
 99.0  98.0  101.0
 91.0  93.0   94.0
 81.0  81.0   81.0
 84.0  89.0   87.0
 92.0  91.0   96.0
 87.0  85.0   86.0
 80.0  80.0   79.0
 70.0  67.0   73.0
 81.0  79.0   77.0
 84.0  85.0   80.0
  ⋮          
 84.0  84.0   93.0
 85.0  89.0   85.0
 99.0  96.0   94.0
 70.0  72.0   68.0
 97.0  99.0   95.0
 76.0  76.0   76.0
 81.0  79.0   85.0
 93.0  88.0   89.0
 74.0  78.0   78.0
 98.0  93.0   98.0
 84.0  81.0   87.0
 80.0  77.0   75.0</code></pre>
</div>
</div>
<div id="8eef49a9" class="cell markdown">
<p>After the data is prepared, it can be fit to a model with the
training data, both the training features (the projections) and the
training label (the actual amount of wins). The model that we will be
using is a Lasso model. A Lasso model uses L1 regularization for
variable selection and to avoid overfitting. The L1 regularization term
adds a penalty to the loss function proportional to the absolute value
of the coefficients, driving some of the coefficients to zero. This
leads to sparse models that include the most important features. Fitting
the model can be seen below, along with using each of the models created
to make predictions.</p>
</div>
<div id="51e5ed30" class="cell code" data-execution_count="484">
<div class="sourceCode" id="cb13"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Lasso</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> Lasso.<span class="fu">fit</span>(LassoPath, train_df, train_lab)</span></code></pre></div>
<div class="output execute_result" data-execution_count="484">
<pre><code>LassoPath (71) solutions for 4 predictors in 2360 iterations):
──────────────────────────────────
              λ    pct_dev  ncoefs
──────────────────────────────────
 [1]  9.98656    0.0             0
 [2]  9.09938    0.0839809       1
 [3]  8.29102    0.153703        1
 [4]  7.55447    0.211588        1
 [5]  6.88335    0.259645        1
 [6]  6.27185    0.299543        1
 [7]  5.71468    0.332666        1
 [8]  5.207      0.360166        1
 [9]  4.74442    0.382997        1
[10]  4.32294    0.401952        1
[11]  3.9389     0.417688        1
[12]  3.58898    0.430753        1
[13]  3.27015    0.4416          1
[14]  2.97964    0.450605        1
[15]  2.71493    0.458081        1
[16]  2.47375    0.464288        1
[17]  2.25399    0.469441        1
[18]  2.05375    0.473719        1
[19]  1.8713     0.47727         1
[20]  1.70506    0.480219        1
[21]  1.55359    0.482667        1
[22]  1.41557    0.4847          1
[23]  1.28981    0.486417        2
[24]  1.17523    0.487855        2
[25]  1.07083    0.489049        2
[26]  0.975697   0.49004         2
[27]  0.889019   0.490863        2
[28]  0.810041   0.491546        2
[29]  0.738079   0.492114        2
[30]  0.67251    0.492585        2
[31]  0.612766   0.492975        2
[32]  0.55833    0.4933          2
[33]  0.508729   0.493569        2
[34]  0.463535   0.493793        2
[35]  0.422356   0.493979        2
[36]  0.384835   0.494133        2
[37]  0.350647   0.494261        2
[38]  0.319497   0.494367        2
[39]  0.291114   0.494456        2
[40]  0.265252   0.494529        2
[41]  0.241688   0.49459         2
[42]  0.220217   0.49464         2
[43]  0.200653   0.494682        2
[44]  0.182828   0.494717        2
[45]  0.166586   0.495571        3
[46]  0.151787   0.496474        3
[47]  0.138303   0.497224        3
[48]  0.126016   0.497847        3
[49]  0.114821   0.498365        3
[50]  0.104621   0.498794        3
[51]  0.0953266  0.49915         3
[52]  0.086858   0.499447        3
[53]  0.0791418  0.499692        3
[54]  0.072111   0.499898        3
[55]  0.0657049  0.500067        3
[56]  0.0598679  0.500208        3
[57]  0.0545494  0.500323        3
[58]  0.0497033  0.500421        3
[59]  0.0452878  0.500501        3
[60]  0.0412646  0.500568        3
[61]  0.0375988  0.500624        3
[62]  0.0342586  0.50067         3
[63]  0.0312151  0.500708        3
[64]  0.0284421  0.50074         3
[65]  0.0259154  0.500767        3
[66]  0.0236131  0.500788        3
[67]  0.0215154  0.500807        3
[68]  0.019604   0.500822        3
[69]  0.0178625  0.500834        3
[70]  0.0162756  0.500845        3
[71]  0.0148297  0.500854        3
──────────────────────────────────</code></pre>
</div>
</div>
<div id="e85da6e4" class="cell code" data-execution_count="485">
<div class="sourceCode" id="cb15"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>preds <span class="op">=</span> Lasso.<span class="fu">predict</span>(model, test_df)</span></code></pre></div>
<div class="output execute_result" data-execution_count="485">
<pre><code>30×71 Matrix{Float64}:
 79.3417  79.943   80.491   80.9903  81.4452  …   85.7953   85.7936   85.792
 79.3417  80.438   81.4369  82.3471  83.1765      91.4422   91.4398   91.4373
 79.3417  79.3491  79.3559  79.362   79.3676      79.0679   79.0627   79.0575
 79.3417  81.2299  82.9505  84.5181  85.9466      99.8837   99.8814   99.8795
 79.3417  80.438   81.4369  82.3471  83.1765      90.9241   90.9179   90.9119
 79.3417  79.4481  79.545   79.6334  79.7139  …   80.5382   80.5384   80.5387
 79.3417  79.7451  80.1126  80.4475  80.7527      83.4038   83.3971   83.3903
 79.3417  80.537   81.6261  82.6185  83.5227      91.4246   91.4145   91.405
 79.3417  80.042   80.6802  81.2616  81.7914      87.3631   87.3671   87.3712
 79.3417  79.3491  79.3559  79.362   79.3676      79.7453   79.7485   79.7516
 79.3417  78.3592  77.464   76.6483  75.905   …   66.9992   66.9866   66.9747
 79.3417  79.4481  79.545   79.6334  79.7139      81.6363   81.6484   81.6602
 79.3417  79.7451  80.1126  80.4475  80.7527      85.2769   85.2907   85.3039
  ⋮                                           ⋱                        ⋮
 79.3417  79.7451  80.1126  80.4475  80.7527      80.9771   80.9499   80.9238
 79.3417  79.8441  80.3018  80.7189  81.0989      85.3923   85.3947   85.3969
 79.3417  81.2299  82.9505  84.5181  85.9466  …  101.952   101.971   101.989
 79.3417  78.3592  77.464   76.6483  75.905       69.1026   69.1074   69.1117
 79.3417  81.032   82.5721  83.9754  85.254       99.2369   99.2476   99.258
 79.3417  78.9531  78.5991  78.2765  77.9826      74.9578   74.9569   74.9561
 79.3417  79.4481  79.545   79.6334  79.7139      79.0503   79.0374   79.0251
 79.3417  80.636   81.8153  82.8899  83.869   …   94.737    94.7508   94.7645
 79.3417  78.7551  78.2207  77.7338  77.2901      71.8223   71.8099   71.7976
 79.3417  81.131   82.7613  84.2468  85.6003      99.0244   99.0268   99.0296
 79.3417  79.7451  80.1126  80.4475  80.7527      82.6243   82.6149   82.6061
 79.3417  79.3491  79.3559  79.362   79.3676      80.7461   80.7607   80.7751</code></pre>
</div>
</div>
<div id="031a1d8d" class="cell markdown">
<p>Once each of the models is used to make predictions, we can then use
the actual wins from the test data to find the model that resulted in
the lowest RMSE. The model with the lowest RMSE has the RMSE shown
below, and is then compared again to the RMSEs of the original
model.</p>
</div>
<div id="e56e48c4" class="cell code" data-execution_count="488">
<div class="sourceCode" id="cb17"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>mses <span class="op">=</span> [<span class="fu">rmse</span>(preds[<span class="op">:</span>, i], test_lab) for i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu">size</span>(preds, <span class="fl">2</span>)]</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">argmin</span>(mses)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>mses[<span class="fl">51</span>]</span></code></pre></div>
<div class="output execute_result" data-execution_count="488">
<pre><code>9.590395505172921</code></pre>
</div>
</div>
<div id="f43fd784" class="cell code" data-execution_count="489">
<div class="sourceCode" id="cb19"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>mod_preds <span class="op">=</span> [elo_rmse, pec_rmse, espn_rmse, mses[<span class="fl">43</span>]]</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>labels <span class="op">=</span> [<span class="st">&quot;ELO&quot;</span>, <span class="st">&quot;PECOTA&quot;</span>, <span class="st">&quot;ESPN&quot;</span>, <span class="st">&quot;Combined&quot;</span>]</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">bar</span>(labels, mod_preds, xticks <span class="op">=</span> (<span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, labels), xlabel <span class="op">=</span> <span class="st">&quot;Model&quot;</span>, ylabel <span class="op">=</span> <span class="st">&quot;RMSE&quot;</span>, title <span class="op">=</span> <span class="st">&quot;RMSE For Models 2017-2022&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="489">
<p><img
src="vertopal_3bd9fef2b2284a6fb770ecbdf8173281/c8911002d9f2ab370700b9dce110f050866bc949.svg" /></p>
</div>
</div>
<div id="f84f31e7" class="cell markdown">
<h3 id="a-further-look-at-the-models">A Further Look at the Models</h3>
</div>
<div id="6b3f2c41" class="cell markdown">
<p>To look at what the models do well at and where they most falter, the
absolute error of the projections is compared. This includes looking at
the mean magnitude of difference the models had when a team won X amount
of games. This allows us to compare between models and to see what the
models were generally good at predicting.</p>
</div>
<div id="47671d2e" class="cell code" data-execution_count="490">
<div class="sourceCode" id="cb20"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>elo[!, <span class="op">:</span>el_err] <span class="op">=</span> <span class="fu">abs</span>.(elo.Actual <span class="op">-</span> elo.ELO)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>elo[!, <span class="op">:</span>pec_err] <span class="op">=</span> <span class="fu">abs</span>.(elo.Actual <span class="op">-</span> elo.PECOTA)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>elo[!, <span class="op">:</span>espn_err] <span class="op">=</span> <span class="fu">abs</span>.(elo.Actual <span class="op">-</span> elo.ESPN)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>grp <span class="op">=</span> <span class="fu">groupby</span>(elo, <span class="st">&quot;Actual&quot;</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">select!</span>(grp, [<span class="st">&quot;Actual&quot;</span>, <span class="st">&quot;el_err&quot;</span>, <span class="st">&quot;pec_err&quot;</span>, <span class="st">&quot;espn_err&quot;</span>])</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> <span class="fu">names</span>(grp)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>data_cols <span class="op">=</span> cols[<span class="fl">2</span><span class="op">:</span><span class="kw">end</span>]</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>err_df <span class="op">=</span> <span class="fu">combine</span>(grp, data_cols <span class="op">.=&gt;</span> mean <span class="op">.=&gt;</span> data_cols)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="fu">show</span>(err_df)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>54×4 DataFrame
 Row │ Actual  el_err    pec_err   espn_err 
     │ Int64   Float64   Float64   Float64  
─────┼──────────────────────────────────────
   1 │     47  23.0      21.5      26.0
   2 │     52  17.5      20.5      18.0
   3 │     54   6.0       3.0      10.0
   4 │     55  17.0      16.0      14.0
   5 │     57   7.0       9.0       9.0
   6 │     58  12.0       7.0      11.0
   7 │     59  11.0      12.0      11.0
   8 │     60   9.5       9.0      10.5
   9 │     61   3.0       0.0       2.0
  10 │     62  10.3333   10.3333    8.33333
  11 │     63   4.0       2.0       1.0
  ⋮  │   ⋮        ⋮         ⋮         ⋮
  45 │     99   7.0       0.0       5.0
  46 │    100   8.5       8.5      11.0
  47 │    101  13.25     12.25     13.75
  48 │    102   8.0      10.0      15.0
  49 │    103   6.0       5.5       8.5
  50 │    104   9.0       7.0      11.0
  51 │    106   9.33333  10.0       8.33333
  52 │    107  21.0      20.0      25.0
  53 │    108  17.0      19.0      18.0
  54 │    111  12.0      13.0      10.0
                             33 rows omitted</code></pre>
</div>
</div>
<div id="af264b1f" class="cell code" data-execution_count="491">
<div class="sourceCode" id="cb22"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Colors</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>max_color <span class="op">=</span> <span class="fu">RGB</span>(<span class="fl">0.8</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>min_color <span class="op">=</span> <span class="fu">RGB</span>(<span class="fl">0.1</span>, <span class="fl">0.8</span>, <span class="fl">0.1</span>)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>middle_color <span class="op">=</span> <span class="fu">RGB</span>(<span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.8</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">get_color</span>(x, y, z)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>    max_val <span class="op">=</span> <span class="fu">max</span>(x, <span class="fu">max</span>(y, z))</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    min_val <span class="op">=</span> <span class="fu">min</span>(x, <span class="fu">min</span>(y, z))</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> x <span class="op">==</span> max_val</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> max_color</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elseif</span> x <span class="op">==</span> min_val</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> min_color</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> middle_color</span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a>bar_el <span class="op">=</span> <span class="fu">bar</span>(err_df.Actual, err_df.el_err, title <span class="op">=</span> <span class="st">&quot;ELO Mean Error&quot;</span>, legend <span class="op">=</span> <span class="cn">false</span>,</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>              color <span class="op">=</span> [<span class="fu">get_color</span>(x.el_err, x.pec_err, x.espn_err) for x <span class="kw">in</span> <span class="fu">eachrow</span>(err_df)])</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>bar_pec <span class="op">=</span> <span class="fu">bar</span>(err_df.Actual, err_df.pec_err, title <span class="op">=</span> <span class="st">&quot;PECOTA Mean Error&quot;</span>, legend <span class="op">=</span> <span class="cn">false</span>,</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>               color <span class="op">=</span> [<span class="fu">get_color</span>(x.pec_err, x.el_err, x.espn_err) for x <span class="kw">in</span> <span class="fu">eachrow</span>(err_df)])</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>bar_espn <span class="op">=</span> <span class="fu">bar</span>(err_df.Actual, err_df.espn_err, title <span class="op">=</span> <span class="st">&quot;ESPN Mean Error&quot;</span>, legend <span class="op">=</span> <span class="cn">false</span>,</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>                color <span class="op">=</span> [<span class="fu">get_color</span>(x.espn_err, x.pec_err, x.el_err) for x <span class="kw">in</span> <span class="fu">eachrow</span>(err_df)])</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(bar_el, bar_pec, bar_espn, xlabel<span class="op">=</span><span class="st">&quot;Actual Wins&quot;</span>, ylabel<span class="op">=</span><span class="st">&quot;Mean Absolute Error&quot;</span>,</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>     xtickfont <span class="op">=</span> <span class="fu">font</span>(<span class="fl">8</span>), ytickfont <span class="op">=</span> <span class="fu">font</span>(<span class="fl">10</span>))</span></code></pre></div>
<div class="output execute_result" data-execution_count="491">
<p><img
src="vertopal_3bd9fef2b2284a6fb770ecbdf8173281/098440c042088255da85a5bcae056e3d25633c10.svg" /></p>
</div>
</div>
<div id="4f513ba5" class="cell markdown">
<p>Each of the plots of absolute error has a general U shape to it. This
shows that these models are good at predicting when a team will be
between 60 to 95 wins, but cannot predict accurately when a team will be
exceptionally good nor exceptionally bad. In the plots, red represents
the most off between the three models, blue the middle, and green the
most accurate. In general, ELO is the most accurate at predicting when a
team will have between 70 to 90 wins, PECOTA the most accurate below 70
wins and above 90 wins, and ESPN the model that is sporadically the most
accurate. It is important to note, however, that, since the RMSEs of the
individual models were so close, none of the models predictions were
more than a few games away from one another.</p>
</div>
<div id="536ef7da" class="cell markdown">
<h3 id="predicting-2023">Predicting 2023</h3>
</div>
<div id="3651eb61" class="cell markdown">
<p>Using the model with the lowest RMSE, we can then predict each team's
wins using the predictions from ELO, PECOTA, and ESPN for this season.
We can then compare this to each model's prediction for the team. This
will allow us to see which prediction was taken into account the most in
our model. The new model was closest in its predictions to ELO, then to
PECOTA.</p>
</div>
<div id="725eefc0" class="cell code" data-execution_count="496">
<div class="sourceCode" id="cb23"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">NamedArrays</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>hold <span class="op">=</span> DataFrames.<span class="fu">select</span>(this_year, <span class="fu">Not</span>([<span class="st">&quot;Actual&quot;</span>, <span class="st">&quot;Team&quot;</span>]))</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>this_mat <span class="op">=</span> <span class="fu">matrix</span>(<span class="fu">Float64</span>.(hold))</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>this_yr_preds <span class="op">=</span> Lasso.<span class="fu">predict</span>(model, this_mat)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>this_yr_preds <span class="op">=</span> this_yr_preds[<span class="op">:</span>, <span class="fl">53</span>]</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>this_yr <span class="op">=</span> <span class="fu">hcat</span>(this_year, <span class="fu">DataFrame</span>(Prediction <span class="op">=</span> this_yr_preds))</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>ELO_V <span class="op">=</span> <span class="fu">mean</span>(<span class="fu">abs</span>.(this_yr.ELO <span class="op">-</span> this_yr.Prediction))</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>PEC_V <span class="op">=</span> <span class="fu">mean</span>(<span class="fu">abs</span>.(this_yr.PECOTA <span class="op">-</span> this_yr.Prediction))</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>ESP_V <span class="op">=</span> <span class="fu">mean</span>(<span class="fu">abs</span>.(this_yr.ESPN <span class="op">-</span> this_yr.Prediction))</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>table <span class="op">=</span> <span class="fu">DataFrame</span>(Table <span class="op">=</span> <span class="st">&quot;Mean Magnitude Off:&quot;</span>,ELO <span class="op">=</span> ELO_V, PECOTA <span class="op">=</span> PEC_V, ESPN <span class="op">=</span> ESP_V)</span></code></pre></div>
<div class="output execute_result" data-execution_count="496">
<div class="data-frame"><p>1 rows × 4 columns</p><table class="data-frame"><thead><tr><th></th><th>Table</th><th>ELO</th><th>PECOTA</th><th>ESPN</th></tr><tr><th></th><th title="String">String</th><th title="Float64">Float64</th><th title="Float64">Float64</th><th title="Float64">Float64</th></tr></thead><tbody><tr><th>1</th><td>Mean Magnitude Off:</td><td>0.910553</td><td>1.67483</td><td>3.92791</td></tr></tbody></table></div>
</div>
</div>
<div id="3682b526" class="cell markdown">
<h2 id="full-projections">Full Projections</h2>
</div>
<div id="c6f6b45c" class="cell code" data-execution_count="497">
<div class="sourceCode" id="cb24"><pre
class="sourceCode julia"><code class="sourceCode julia"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>this_yr[<span class="op">:</span>, <span class="op">:</span>Prediction] <span class="op">=</span> <span class="fu">round</span>.(this_yr.Prediction, digits <span class="op">=</span> <span class="fl">0</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>this_yr</span></code></pre></div>
<div class="output execute_result" data-execution_count="497">
<div class="data-frame"><p>30 rows × 6 columns</p><table class="data-frame"><thead><tr><th></th><th>Team</th><th>Actual</th><th>ELO</th><th>PECOTA</th><th>ESPN</th><th>Prediction</th></tr><tr><th></th><th title="String15">String15</th><th title="Int64">Int64</th><th title="Int64">Int64</th><th title="Int64">Int64</th><th title="Int64">Int64</th><th title="Float64">Float64</th></tr></thead><tbody><tr><th>1</th><td>Yankees</td><td>2023</td><td>92</td><td>96</td><td>99</td><td>92.0</td></tr><tr><th>2</th><td>Red Sox</td><td>2023</td><td>81</td><td>80</td><td>77</td><td>81.0</td></tr><tr><th>3</th><td>Orioles</td><td>2023</td><td>75</td><td>74</td><td>72</td><td>74.0</td></tr><tr><th>4</th><td>Tigers</td><td>2023</td><td>69</td><td>66</td><td>66</td><td>68.0</td></tr><tr><th>5</th><td>Guardians</td><td>2023</td><td>88</td><td>88</td><td>88</td><td>88.0</td></tr><tr><th>6</th><td>White Sox</td><td>2023</td><td>81</td><td>76</td><td>82</td><td>80.0</td></tr><tr><th>7</th><td>Royals</td><td>2023</td><td>68</td><td>64</td><td>68</td><td>66.0</td></tr><tr><th>8</th><td>Twins</td><td>2023</td><td>85</td><td>88</td><td>81</td><td>86.0</td></tr><tr><th>9</th><td>Rangers</td><td>2023</td><td>79</td><td>79</td><td>80</td><td>78.0</td></tr><tr><th>10</th><td>Astros</td><td>2023</td><td>93</td><td>95</td><td>93</td><td>94.0</td></tr><tr><th>11</th><td>Mariners</td><td>2023</td><td>84</td><td>83</td><td>83</td><td>84.0</td></tr><tr><th>12</th><td>Athletics</td><td>2023</td><td>65</td><td>64</td><td>63</td><td>63.0</td></tr><tr><th>13</th><td>Angels</td><td>2023</td><td>83</td><td>86</td><td>81</td><td>83.0</td></tr><tr><th>14</th><td>Dodgers</td><td>2023</td><td>94</td><td>95</td><td>90</td><td>96.0</td></tr><tr><th>15</th><td>Giants</td><td>2023</td><td>81</td><td>80</td><td>76</td><td>81.0</td></tr><tr><th>16</th><td>Padres</td><td>2023</td><td>91</td><td>94</td><td>100</td><td>90.0</td></tr><tr><th>17</th><td>Diamondbacks</td><td>2023</td><td>76</td><td>74</td><td>74</td><td>75.0</td></tr><tr><th>18</th><td>Rockies</td><td>2023</td><td>66</td><td>64</td><td>62</td><td>65.0</td></tr><tr><th>19</th><td>Cubs</td><td>2023</td><td>77</td><td>76</td><td>73</td><td>77.0</td></tr><tr><th>20</th><td>Brewers</td><td>2023</td><td>87</td><td>87</td><td>86</td><td>87.0</td></tr><tr><th>21</th><td>Cardinals</td><td>2023</td><td>86</td><td>86</td><td>92</td><td>85.0</td></tr><tr><th>22</th><td>Reds</td><td>2023</td><td>70</td><td>68</td><td>60</td><td>70.0</td></tr><tr><th>23</th><td>Pirates</td><td>2023</td><td>71</td><td>72</td><td>74</td><td>69.0</td></tr><tr><th>24</th><td>Mets</td><td>2023</td><td>92</td><td>96</td><td>103</td><td>91.0</td></tr><tr><th>25</th><td>Phillies</td><td>2023</td><td>87</td><td>90</td><td>85</td><td>88.0</td></tr><tr><th>26</th><td>Braves</td><td>2023</td><td>93</td><td>91</td><td>99</td><td>92.0</td></tr><tr><th>27</th><td>Blue Jays</td><td>2023</td><td>89</td><td>89</td><td>90</td><td>89.0</td></tr><tr><th>28</th><td>Marlins</td><td>2023</td><td>78</td><td>80</td><td>76</td><td>78.0</td></tr><tr><th>29</th><td>Nationals</td><td>2023</td><td>64</td><td>62</td><td>62</td><td>62.0</td></tr><tr><th>30</th><td>Rays</td><td>2023</td><td>86</td><td>86</td><td>94</td><td>84.0</td></tr></tbody></table></div>
</div>
</div>
<div id="c0323119" class="cell code">
<div class="sourceCode" id="cb25"><pre
class="sourceCode julia"><code class="sourceCode julia"></code></pre></div>
</div>
</body>
</html>
